#! /usr/bin/env python3

import inspect
import os
import sys

sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), "..")))

VERSION = "0.0.0"


def print_msg_and_usage(msg=False):
    if msg:
        print(msg, file=sys.stdout)

    usage = inspect.cleandoc(
        """
    usage:
    mytoolkit -h|--help.    TBD.
    mytoolkit -V|--version. TBD.
    mytoolkit XXX [ARGS].   TBD.
    mytoolkit abc [ARGS].   TBD.
    """
    )
    print(f"{usage}")


def print_version():
    print(f"mytoolkit {VERSION}")


if __name__ == "__main__":
    if len(sys.argv) == 1:
        print_msg_and_usage()
        exit(0)

    elif sys.argv[1] in ["-V", "--version"]:
        print_version()
        exit(0)

    elif sys.argv[1] in ["-h", "--help"]:
        print_msg_and_usage()
        exit(0)

    elif sys.argv[1] == "XXX":
        from mytoolkit import XXX 

        XXX.main()
    else:
        print_msg_and_usage(f'[ERROR] mytoolkit: tool "{sys.argv[1]}" not recognized.')
        exit(1)
